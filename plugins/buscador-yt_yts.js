import yts from 'yt-search';

let handler = async (m, { conn, usedPrefix, text, args, command }) => {
if (!text) return conn.reply(m.chat, `${lenguajeGB['smsAvisoMG']()}ğ™€ğ™ğ˜¾ğ™ğ™„ğ˜½ğ˜¼ ğ™€ğ™‡ ğ™‰ğ™Šğ™ˆğ˜½ğ™ğ™€ ğ˜¿ğ™€ ğ™ğ™‰ ğ™‘ğ™„ğ˜¿ğ™€ğ™Š ğ™Š ğ˜¾ğ˜¼ğ™‰ğ˜¼ğ™‡ ğ˜¿ğ™€ ğ™”ğ™Šğ™ğ™ğ™ğ˜½ğ™€\n\nğ™’ğ™ğ™„ğ™ğ™€ ğ™ğ™ƒğ™€ ğ™‰ğ˜¼ğ™ˆğ™€ ğ™Šğ™ ğ˜¼ ğ™”ğ™Šğ™ğ™ğ™ğ˜½ğ™€ ğ™‘ğ™„ğ˜¿ğ™€ğ™Š ğ™Šğ™ ğ˜¾ğ™ƒğ˜¼ğ™‰ğ™‰ğ™€ğ™‡`, fkontak,  m)
m.react('ğŸ“€');
let result = await yts(text);
let ytres = result.videos;
if (!ytres.length) return m.reply('âŒ No se encontraron resultados.');

if (m.isWABusiness) {
let textoo = `${htki} ğ™ğ™€ğ™ğ™ğ™‡ğ™ğ˜¼ğ˜¿ğ™Šğ™ ${htka}  ${text}\n\n`;
for (let i = 0; i < Math.min(15, ytres.length); i++) { 
let v = ytres[i];
textoo += `â¤ï¸ê™°à¼» *TÃTULO:* ${v.title}\nâ–ğŸ“†à¼» *PUBLICADOS HACE:* ${v.ago}\nâ–ğŸ‘€à¼» *VISTAS:* ${v.views}\nâ–â°à¼» *DURACIÃ“N:* ${v.timestamp}\nğŸ“ê™°à¼» *LINK:* ${v.url}\n\nâ€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢\n\n`;
}
await conn.sendFile(m.chat, ytres[0].image, 'thumbnail.jpg', textoo, m, null, fake);
} else {
let selectedResults = ytres.slice(0, 11);
let messages = selectedResults.map(v => [
``, 
`â¤ï¸ê™°à¼» *TÃTULO:* ${v.title}\nâ–ğŸ“†à¼» *PUBLICADOS HACE:* ${v.ago}\nâ–ğŸ‘€à¼» *VISTAS:* ${v.views}\nâ–â°à¼» *DURACIÃ“N:* ${v.timestamp}`, 
v.image, 
[],
[["Copia para descargar", `.ytmp4 ${v.url}`]], 
[], 
[]]);

await conn.sendCarousel(m.chat, `${htki} *ğ™ğ™€ğ™ğ™ğ™‡ğ™ğ˜¼ğ˜¿ğ™Šğ™* ${htka}\n`, htki + "YouTube Search" + htka, messages, m);
}
};
handler.help = ['playlist']
handler.tags = ['dl']
handler.command = /^playlist|ytbuscar|yts(earch)?$/i
handler.limit = 1
handler.level = 3
export default handler

/*
import yts from 'yt-search';
let handler = async (m, { conn, usedPrefix, text, args, command }) => {
if (!text) conn.reply(m.chat, `${lenguajeGB['smsAvisoMG']()}ğ™€ğ™ğ˜¾ğ™ğ™„ğ˜½ğ˜¼ ğ™€ğ™‡ ğ™‰ğ™Šğ™ˆğ˜½ğ™ğ™€ ğ˜¿ğ™€ ğ™ğ™‰ ğ™‘ğ™„ğ˜¿ğ™€ğ™Š ğ™Š ğ˜¾ğ˜¼ğ™‰ğ˜¼ğ™‡ ğ˜¿ğ™€ ğ™”ğ™Šğ™ğ™ğ™ğ˜½ğ™€\n\nğ™’ğ™ğ™„ğ™ğ™€ ğ™ğ™ƒğ™€ ğ™‰ğ˜¼ğ™ˆğ™€ ğ™Šğ™ ğ˜¼ ğ™”ğ™Šğ™ğ™ğ™ğ˜½ğ™€ ğ™‘ğ™„ğ˜¿ğ™€ğ™Š ğ™Šğ™ ğ˜¾ğ™ƒğ˜¼ğ™‰ğ™‰ğ™€ğ™‡`, fkontak,  m)
try {
    let result = await yts(text);
    let ytres = result.videos;
  let teskd = `ğ˜½ğ™ªğ™¨ğ™¦ğ™ªğ™šğ™™ğ™– ğ™™ğ™š *${text}*`
    
let listSections = [];
for (let index in ytres) {
        let v = ytres[index];
        listSections.push({
         title: `${htki} ğ™ğ™€ğ™ğ™ğ™‡ğ™ğ˜¼ğ˜¿ğ™Šğ™ ${htka}`,
            rows: [
                {
                    header: 'ğ—” ğ—¨ ğ—— ğ—œ ğ—¢',
                    title: "",
                    description: `${v.title} | ${v.timestamp}\n`, 
                    id: `${usedPrefix}ytmp3 ${v.url}`
                },
                {
                    header: "ğ—© ğ—œ ğ—— ğ—˜ ğ—¢",
                    title: "" ,
                    description: `${v.title} | ${v.timestamp}\n`, 
                    id: `${usedPrefix}ytmp4 ${v.url}`
                }, 
              {
                    header: "ğ—” ğ—¨ ğ—— ğ—œ ğ—¢   ğ—— ğ—¢ ğ—–",
                    title: "" ,
                    description: `${v.title} | ${v.timestamp}\n`, 
                    id: `${usedPrefix}play3 ${v.url}`
                }, 
                {
                    header: "ğ—© ğ—œ ğ—— ğ—˜ ğ—¢   ğ—— ğ—¢ ğ—–",
                    title: "" ,
                    description: `${v.title} | ${v.timestamp}\n`, 
                    id: `${usedPrefix}play4 ${v.url}`
                }
            ]
        });
    }
await conn.sendList(m.chat, `${htki} *ğ™ğ™€ğ™ğ™ğ™‡ğ™ğ˜¼ğ˜¿ğ™Šğ™* ${htka}\n`, `\nğ˜½ğ™ªğ™¨ğ™¦ğ™ªğ™šğ™™ğ™– ğ™™ğ™š: ${text}`, `ğ—• ğ—¨ ğ—¦ ğ—– ğ—” ğ—¥`, listSections, fkontak);
} catch (e) {
await conn.sendButton(m.chat, `\n${wm}`, lenguajeGB['smsMalError3']() + '#report ' + usedPrefix + command, null, [[lenguajeGB.smsMensError1(), `#reporte ${lenguajeGB['smsMensError2']()} *${usedPrefix + command}*`]], null, null, m)
console.log(e) 
}}
handler.help = ['playlist']
handler.tags = ['dl']
handler.command = /^playlist|ytbuscar|yts(earch)?$/i
handler.limit = 1
handler.level = 3
export default handler
*/