import MessageType from '@adiwajshing/baileys'
let pajak = 0
let handler = async (m, { conn, text, usedPrefix, command, groupMetadata }) => {

let who
if (m.isGroup) who = m.mentionedJid[0]
else who = m.chat
if (m.quoted?.sender) m.mentionedJid.push(m.quoted.sender);
  if (!m.mentionedJid.length) m.mentionedJid.push(m.sender);
  if (global.db.data.users[_user] == undefined)

  let user = m.mentionedJid[0] ? m.mentionedJid[0] : m.quoted.sender;
  if (!user in global.db.data.users)
if (_user.startsWith(conn.user.jid.split`@`[0]))
if (!who) throw `${ag}ğ˜¿ğ™€ğ˜½ğ™€ ğ˜¿ğ™€ ğ™€ğ™ğ™„ğ™Œğ™ğ™€ğ™ğ˜¼ğ™ ğ˜¼ğ™‡ ğ™ğ™ğ™ğ˜¼ğ™ğ™„ğ™Š *@tag*\n\nğ™”ğ™Šğ™ ğ™ˆğ™ğ™ğ™ ğ™ğ˜¼ğ™‚ ğ™ğ™ƒğ™€ ğ™ğ™ğ™€ğ™ *@tag*`
let txt = text.replace('@' + who.split`@`[0], '').trim()
if (!txt) throw `${ag}ğ™„ğ™‰ğ™‚ğ™ğ™€ğ™ğ™€ ğ™‡ğ˜¼ ğ˜¾ğ˜¼ğ™‰ğ™ğ™„ğ˜¿ğ˜¼ğ˜¿ ğ˜¿ğ™€ ğ™€ğ™“ğ™‹\n\nğ™€ğ™‰ğ™ğ™€ğ™ ğ™ğ™ƒğ™€ ğ™‰ğ™ğ™ˆğ˜½ğ™€ğ™ ğ™Šğ™ ğ™€ğ™“ğ™‹`
if (isNaN(txt)) throw `${mg}ğ™ğ™„ğ™‰ ğ™ğ™„ğ™ˆğ˜½ğ™Šğ™‡ğ™Šğ™, ğ™ğ™Šğ™‡ğ™Š ğ™„ğ™‰ğ™‚ğ™ğ™€ğ™ğ™€ ğ™‰ğ™ğ™ˆğ™€ğ™ğ™Šğ™\n\nğ™‰ğ™Š ğ™ğ™”ğ™ˆğ˜½ğ™Šğ™‡ğ™, ğ™…ğ™ğ™ğ™ ğ™€ğ™‰ğ™ğ™€ğ™ ğ™‰ğ™ğ™ˆğ˜½ğ™€ğ™ğ™`
let xp = parseInt(txt)
let exp = xp
let pjk = Math.ceil(xp * pajak)
exp += pjk
if (exp < 1) throw `${mg}ğ™€ğ™‡ ğ™‰ğ™ğ™ˆğ™€ğ™ğ™Š ğ™ˆğ™„ğ™‰ğ™„ğ™ˆğ™Š ğ˜¿ğ™€ ğ™€ğ™“ğ™‹ğ™€ğ™ğ™„ğ™€ğ™‰ğ˜¾ğ™„ğ˜¼ (ğ™€ğ™“ğ™‹) ğ™€ğ™ *1*\n\nğ™ğ™ƒğ™€ ğ™ˆğ™„ğ™‰ğ™„ğ™ˆğ™ğ™ˆ ğ™‰ğ™ğ™ˆğ˜½ğ™€ğ™ ğ™ğ™ğ™Šğ™ˆ ğ™€ğ™“ğ™‹ğ™€ğ™ğ™„ğ™€ğ™‰ğ˜¾ğ™€ (ğ™€ğ™“ğ™‹) ğ™„ğ™ *1*`
let taguser = await conn.getName(m.sender)
let users = global.db.data.users
users[who].exp += xp
let gata = `â•­â”[ ğ™€ğ™“ğ™‹ğ™€ğ™ğ™„ğ™€ğ™‰ğ˜¾ğ™„ğ˜¼ | ğ™€ğ™“ğ™‹ âš¡]â”â¬£\nâ”ƒ\nâ”ƒáƒ¦ *PARA | FOR:*\nâ”ƒáƒ¦ ${taguser}\nâ”ƒâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆâ”ˆ\nâ”ƒáƒ¦ *SE LE AÃ‘ADIÃ“ | NOW YOU HAVE*\nâ”ƒáƒ¦ *${xp} EXP* âš¡\nâ”ƒ\nâ•°â”â”â”â”â”â”â”â”â”â”â”â”â”â”â¬£`
conn.sendMessage(m.chat, { text: gata, mentions: [_user, m.sender] }, { quoted: m })}
handler.help = ["addxp  [@user]"]
handler.tags = ['xp']
handler.command = ['aÃ±adirxp', 'aÃ±adirexp', 'aÃ±adirexperiencia', 'darexperiencia', 'darxp', 'darexp'] 
handler.group = true
handler.rowner = true
export default handler
