import fetch from 'node-fetch';
import axios from 'axios';
import translate from '@vitalets/google-translate-api';
import {Configuration, OpenAIApi} from 'openai';
const configuration = new Configuration({organization: global.openai_org_id, apiKey: global.openai_key});
const openaiii = new OpenAIApi(configuration);
const handler = async (m, {conn, text, usedPrefix, command}) => {
if (usedPrefix == 'a' || usedPrefix == 'A') return;
if (!text) throw `*${lenguajeGB['smsAvisoMG']()}ğ™„ğ™‰ğ™‚ğ™ğ™€ğ™ğ™€ ğ™ğ™‰ğ˜¼ ğ™‹ğ™€ğ™ğ™„ğ˜¾ğ™„ğ™Šğ™‰ ğ™Š ğ™ğ™‰ğ˜¼ ğ™Šğ™ğ˜¿ğ™€ğ™‰ ğ™‹ğ˜¼ğ™ğ˜¼ ğ™ğ™ğ˜¼ğ™ ğ™‡ğ˜¼ ğ™ğ™ğ™‰ğ˜¾ğ™„ğ™Šğ™‰ ğ˜¿ğ™€ğ™‡ ğ˜¾ğ™ƒğ˜¼ğ™ğ™‚ğ™‹ğ™\n\nâ ğ™€ğ™…ğ™€ğ™ˆğ™‹ğ™‡ğ™Š ğ˜¿ğ™€ ğ™‹ğ™€ğ™ğ™„ğ˜¾ğ™„ğ™Šğ™‰ğ™€ğ™ ğ™” ğ™Šğ™ğ˜¿ğ™€ğ™‰ğ™€ğ™\nâ ${usedPrefix + command} Recomienda un top 10 de pelÃ­culas de acciÃ³n\nâ ${usedPrefix + command} Codigo en JS para un juego de cartas`    

if (command == 'ia' || command == 'chatgpt') {
try {
conn.sendPresenceUpdate('composing', m.chat);
let gpt = await fetch(`https://deliriusapi-official.vercel.app/ia/gptweb?text=${text}`) 
let res = await gpt.json()
await m.reply(res.gpt)
} catch {
try {
let gpt = await fetch(`https://deliriusapi-official.vercel.app/ia/chatgpt?q=${text}`)
let res = await gpt.json()
await m.reply(res.data)
} catch {
}}}

if (command == 'openai' || command == 'ia2' || command == 'chatgpt2') {
conn.sendPresenceUpdate('composing', m.chat);
let gpt = await fetch(`https://deliriusapi-official.vercel.app/ia/gptweb?text=${text}`) 
let res = await gpt.json()
await m.reply(res.gpt)
}}
handler.command = /^(openai|chatgpt|ia|ai|openai2|chatgpt2|ia2)$/i;
export default handler;

